import{_ as m,c as n,f as s,F as p,a1 as d,a as f,o as i,x as g,s as y,aW as C,aX as z}from"./index-9741e164.js";import{E as v,a as k}from"./el-select-be570fba.js";import{c as h,g as P}from"./cms_help-ef8e48e3.js";/* empty css                   */import"./index-420bff95.js";import"./index-88838146.js";const S={data(){return{categories:[],helps:[],pagination:{current:1,size:15,page:0,total:0}}},mounted(){this.getCategoryPage()},methods:{getCategoryPage(){h({current:1,size:15}).then(t=>{console.log(t),this.categories=t.data.data.page.records.filter(e=>e.showStatus===0),console.log(this.categories),this.pagination.current=t.data.data.page.current,this.pagination.size=t.data.data.page.size,this.pagination.total=t.data.data.page.total,this.pagination.page=t.data.data.page.pages}).catch(t=>{console.log(t)})},fetchHelps(a){console.log("感时花溅泪"),P(a).then(t=>{console.log(t.data),t.data.data?(console.log("最是人间留不住"),this.helps=t.data.data.cmsHelps):(console.log("朱颜辞镜花辞树"),this.helps=[],v.success("该分类下没有帮助信息"))}).catch(t=>{console.log(t)})},handlePageChange(a){this.pagination.current=a,this.fetchcategoryByPage(a)},fetchcategoryByPage(a){const t={current:a,size:this.pagination.size};h(t).then(e=>{console.log(e),this.categories=e.data.data.page.records.filter(r=>r.showStatus===0),console.log(this.categories),this.pagination.current=e.data.data.page.current,this.pagination.size=e.data.data.page.size,this.pagination.total=e.data.data.page.total,this.pagination.page=e.data.data.page.pages}).catch(e=>{console.log(e)})}},computed:{filteredHelps(){return this.helps.filter(a=>a.showStatus===0)}}},u=a=>(C("data-v-074757fb"),a=a(),z(),a),B={class:"helps-container"},H={class:"helps-categories"},I=u(()=>s("h2",null,"帮助分类",-1)),x=["onClick"],w={class:"helps-info"},E=u(()=>s("h2",null,"帮助信息",-1)),b=["src"];function N(a,t,e,r,l,c){const _=k;return i(),n("div",null,[s("div",B,[s("div",H,[I,s("ul",null,[(i(!0),n(p,null,d(l.categories,o=>(i(),n("li",{key:o.id,onClick:V=>c.fetchHelps(o.id)},g(o.name),9,x))),128))])]),s("div",w,[E,s("ul",null,[(i(!0),n(p,null,d(c.filteredHelps,o=>(i(),n("li",{key:o.id},[s("h3",null,g(o.title),1),o.icon?(i(),n("img",{key:0,src:o.icon,alt:"Icon",class:"help-image"},null,8,b)):y("",!0),s("p",null,g(o.content),1)]))),128))])])]),f(_,{onCurrentChange:c.handlePageChange,"current-page":l.pagination.current,"page-size":l.pagination.size,total:l.pagination.total},null,8,["onCurrentChange","current-page","page-size","total"])])}const j=m(S,[["render",N],["__scopeId","data-v-074757fb"]]);export{j as default};
